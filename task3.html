<HTML>
<BODY>
<canvas id='lab3' height='500' width='500' style='border:1px solid'>
</canvas>

<script>
	var canvas = document.getElementById('lab3');
	var ctx = canvas.getContext('2d');
	
	function line(ctx,x1,y1,x2,y2)
	{
		var dx = Math.abs(x2 - x1);
		var dy = Math.abs(y2 - y1);
		var sx; 
		
		var sy;
		var error = dx - dy;
		sx = x1 < x2 ? 1 : -1;
		sy = y1 < y2 ? 1 : -1;
		while(true)
		 
		{
			if (x1===x2){
				if (y1===y2){
					break;				
				}
			}
			ctx.fillRect(x1,y1,1,1);
			var error2 = error * 2;
			if(error2 > -dy) 
			{
				error -= dy;
				x1 += sx;
			}
			if(error2 < dx) 
			{
				error += dx;
				y1 += sy;
			}
		}
	}
	let point_index=0;
	canvas.addEventListener('click',function(e)
	{
		if(point_index == 0){
			x1=e.offsetX;
			y1=e.offsetY;
			point_index = 1;
		} 
		else 
		{
			x2=e.offsetX;
			y2=e.offsetY;
			line(ctx,x1,y1,x2,y2);
			point_index = 0;
		}
	});
</script>

</BODY>
</HTML>
